let darkThemeStyle = '.mpo-examens-travaux-carrousel{background:#121212!important}.mpo-cours-suivis th{border-bottom:none!important;color:#fff!important}.mpo-cours-non-suivis .mpo-tableau-liste-cours-titre{color:#fff!important}.mpo-cours-non-suivis .mpo-tableau-liste-cours th{border-bottom:none!important;color:#fff!important}.mpo-tableau-liste-cours{background:0 0!important}.mpo-liste-cours-avec-jonction .mpo-jonction{background:0 0!important}.mpo-liste-tlm-elem-titre,.mpo-message-important-elem-titre{color:#fff!important}.mpo-page-gabarit-2{color:#fff!important;background:#121212!important}.EnteteSiteCours{color:#fff!important;background:#1d1d1d!important}.EnteteSiteCours .TitreCours{color:#fff!important}.EnteteSiteCours #lienListeCoursId:before{color:#fff!important}.ena_page{background:#121212!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil_Selected{border-color:#5c5c5c!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil_Selected,.ZoneMenuSiteCours .MenuSiteCours_Item_Selected,.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone_Selected,.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF_Selected{background:#393939!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil_Selected a,.ZoneMenuSiteCours .MenuSiteCours_Item_Selected a,.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone_Selected a,.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF_Selected a{color:#fff!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil,.ZoneMenuSiteCours .MenuSiteCours_Item,.ZoneMenuSiteCours .MenuSiteCours_Outils_APPREUS,.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone,.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF{background:#1d1d1d!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil a,.ZoneMenuSiteCours .MenuSiteCours_Item a,.ZoneMenuSiteCours .MenuSiteCours_Outils_APPREUS a,.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone a,.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF a{color:#fff!important}.ZoneMenuSiteCours .MenuSiteCours_Accueil:hover:not(.MenuSiteCours_Outils_Zone),.ZoneMenuSiteCours .MenuSiteCours_Item:hover:not(.MenuSiteCours_Outils_Zone),.ZoneMenuSiteCours .MenuSiteCours_Outils_APPREUS:hover:not(.MenuSiteCours_Outils_Zone),.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone:hover:not(.MenuSiteCours_Outils_Zone),.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF:hover:not(.MenuSiteCours_Outils_Zone){background:#393939!important}.ZoneMenuSiteCours .MenuSiteCours_PlanCoursPDF{border-top-color:#5c5c5c!important}.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone{border:none!important}.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone div{border:none!important}.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone div a:before{color:#fff!important}.ZoneMenuSiteCours .MenuSiteCours_Outils_Zone>[class*=MenuSiteCours_Outils_Item_]:hover{background:#393939!important}.Ligne_OEXT:nth-child(n+3) .MenuSiteCours_Item:after{border-color:#5c5c5c!important}.ZoneContenuSiteCours .ena_contenuSite .ena_bloc{background:#1d1d1d!important;border:none!important}.ZoneContenuSiteCours .ena_contenuSite .ena_bloc .ena_bloc_content,.ZoneContenuSiteCours .ena_contenuSite .ena_bloc .ena_bloc_header{color:#fff!important;border-bottom-color:#5c5c5c!important}.Evaluations_BoiteDepots_DeposerTravail{background:0 0!important}svg text{fill:#fff!important}.af_dvt-graph svg rect:nth-of-type(1),.af_dvt-graph svg rect:nth-of-type(2){fill:#121212!important}.MenuListeCours .af_selectOneChoice_content{border-color:#5c5c5c!important}.MenuEnvoiCourriel_Lien a,.MenuEnvoiCourriel_Lien a:visited{color:#fff!important}.MenuEnvoiCourriel_Lien a:hover,.MenuEnvoiCourriel_Lien a:visited:hover{background:#393939!important;color:#fff!important}.tableClasseVirtuelleConnecter{background:#1d1d1d!important;border-color:#5c5c5c!important}.headerClasseVirtuelleConnecter{background:#1d1d1d!important;color:#fff!important}.m-template__main{background:#121212!important}.det-bloc-panier{background:#121212!important}.mpo-page-corps{background:#121212!important}.det-section-contenu{background:#121212!important}.mpo-boite-cours-resultats-cote{background:0 0!important}.mpo-moncompte-profil-entete{border-color:#343434!important}.mpo-liste-preferences-notification-categorie .categorie-titre{background:#1d1d1d!important}.mpo-declaration-opposition__entete{color:#fff!important}.mpo-declaration-opposition__tableau__corps__ligne:nth-child(2n) .mpo-declaration-opposition__tableau__corps__ligne__cellule{background:0 0!important}.QuestionnaireExecution_Conteneur{background:#1d1d1d!important}.QuestionnaireExecution_Timer{background:0 0!important;border-color:#5c5c5c!important;padding:3px!important;color:#fff!important}.QuestionnaireExecution_HeaderNiv2{background:#1d1d1d!important}.QuestionnaireExecution_TitreQuestion{background:#1d1d1d!important}.QuestionnaireExecution_Content_ZoneResultats{border-color:#5c5c5c!important}.QuestionnaireExecution_Content_ZoneResultats_Bas,.QuestionnaireExecution_Content_ZoneResultats_Haut{background:#1d1d1d!important}.Outils_Page_QuestionnaireExecution .QuestionnaireCopieCorrigee_Header{background:#1d1d1d!important}.Outils_Page_QuestionnaireExecution .Groupe_BoutonsPiedFenetre,.Outils_Page_QuestionnaireExecution .QuestionnaireCopieCorrigee_MainContent{background:#1d1d1d!important}.CopieCorrigee_ZoneCorrection{background:#1d1d1d!important;border-color:#5c5c5c!important}.CopieCorrigee_ZoneCorrection_Content{background:#1d1d1d!important;border-color:#5c5c5c!important}.QuestionnaireExecution_ZoneQuestion.Corrigee.avecPointage .QuestionnaireExecution_ZoneQuestion_Titre .MiseEnPageTableau_QuestionnaireExecution_TitreQuestion,.QuestionnaireExecution_ZoneQuestion.Corrigee.sansPointage .QuestionnaireExecution_ZoneQuestion_Titre .MiseEnPageTableau_QuestionnaireExecution_TitreQuestion{background:#121212!important}.ZoneCorrection_Pointage_Hack{background:#1d1d1d!important;border-color:#5c5c5c!important}.CopieCorrigee_ZoneTentative_Item{background:#1d1d1d!important;border-color:#5c5c5c!important}.CopieCorrigee_ZoneTentative_Item.active{background:#393939!important}.MaReussite_Intro{background:#1d1d1d!important}.MaReussite_CadreActif .MaReussite_Module{background:#1d1d1d!important;border-color:#5c5c5c!important}body .DetailDesIndicateurs_Tableau .ul_column_header-cell,body .af_table_data-row.p_AFToolMenuOpened>.af_column_banded-data-cell,body .af_table_data-row.p_AFToolMenuOpened>.af_column_data-cell{background:#1d1d1d!important}body .DetailDesIndicateurs_Tableau .ul_table_body-cell{background:#1d1d1d!important}.MaReussite_Module_MesResultats_Tableau_Moyenne{background:#1d1d1d!important}.MaReussite_MiniTest{background:#1d1d1d!important}.MaReussite_MiniTest__Bouton{background:#1d1d1d!important}.MaReussite_Module{background:0 0!important}body .MaReussite_ModuleIcone a,body .MaReussite_ModuleIcone a:hover,body .lienDesactive{color:#fff!important}.MaReussite_Module__Corps.ul_div span{color:#fff!important}.MaReussite_ModuleAide{background:#1d1d1d!important;border-color:#5c5c5c!important}.MaReussite_ModuleAide__TitreDeSection{color:#fff!important}.mpo-boite,.mpo-boite-onglet{background:#1d1d1d!important;border:none!important}.mpo-boite .mpo-boite-titre,.mpo-boite-onglet .mpo-boite-titre{color:#fff!important}.mpo-accordeon-calendriers h2{color:#fff!important}.mpo-calendriers-corps-principale{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendrier .mpo-calendrier-date{color:#fff!important}.mpo-calendriers-corps-principale .mpo-calendrier .fc .fc-head-container{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendrier .fc .fc-time span{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendrier .fc-bg{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendrier .fc-bg .fc-today{background:#121212!important}.mpo-calendriers-corps-principale .mpo-calendrier .fc-nonbusiness{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .paragraphe-base{color:#fff!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-btn-ouvert-fermer{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-entete{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-entete h2{color:#fff!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-corps .mpo-calendriers-interrupteur-conteneur{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-corps .mpo-calendriers-legende-scroll ul.mpo-liste-checkbox li{background:#1d1d1d!important}.mpo-calendriers-corps-principale .mpo-calendriers-legende .mpo-calendriers-legende-corps .mpo-calendriers-legende-scroll .mpo-accordeon-allege .is-expanded{background:#1d1d1d!important}.fc-unthemed .fc-content,.fc-unthemed .fc-divider,.fc-unthemed .fc-list-heading td,.fc-unthemed .fc-list-view,.fc-unthemed .fc-popover,.fc-unthemed .fc-row,.fc-unthemed tbody,.fc-unthemed td,.fc-unthemed th,.fc-unthemed thead{border-color:#5c5c5c!important}.fc-event.fc-event{border-color:#5c5c5c!important}.fc-more-popover,.mpo-calendrier-infobulle-conteneur-principale{background:#1d1d1d!important;border-color:#5c5c5c!important;color:#fff!important}.mpo-calendrier-infobulle-conteneur-principale::after{background:0 0!important}@media (min-width:768px){.mpo-fenetre-impression.mpo-fenetre-impression .modal-body{background:#1d1d1d!important}}.mpo-chargement-page-racine .mpo-action-en-cours-description,.mpo-chargement-page-racine .mpo-action-en-cours-titre{color:#fff!important}.shell-chargement .m-spinner__description{color:#fff!important}.mpo-entete .mpo-entete-corps{background:#1d1d1d!important}.mpo-entete .mpo-entete-corps .mpo-hamburger{border-bottom:none!important;background:#1d1d1d!important}.mpo-entete .mpo-entete-corps .mpo-marque-titre *{color:#fff}.m-template__header-container,.mpo-page-entete{background:#1d1d1d!important}.mpo-groupe-boutons-minimalistes button.active,.mpo-groupe-boutons-minimalistes button:focus{color:#fff!important}.mpo-menu{background:#1d1d1d!important}.mpo-message-corps{background:#1d1d1d!important;color:#fff!important}.mpo-message-corps .mpo-message-contenu .mpo-message-texte{color:#fff!important}.mpo-message-attention.mpo-message-avec-icone::after{background:#2d1919!important}.mpo-message-information.mpo-message-avec-icone::after{background-color:#0b2e4f!important}.mpo-message-avertissement{background:#211900!important}.Information_Simple{background:#1d1d1d!important}.Information_Simple:before{background-color:#0b2e4f!important}.Avertissement:before,.MessageAvertissement_Content:before{background:#211900!important}.MessageAvertissement_TexteSeulement{background:0 0!important}.m-message__wrap{background:#1d1d1d!important}.m-message__wrap .m-message__body{color:#fff!important}.mpo-message-fermer{background:0 0!important}.mpo-pied{background:#121212!important;border-color:#343434!important}.mpo-pied .mpo-pied-mention-legale{background:#121212!important}.mpo-deroulant-bouton,a.mpo-deroulant-bouton{background:#121212!important;color:#fff!important;border:none!important}.mpo-liste-deroulante .mpo-deroulant-texte::after{background:0 0!important}a.mpo-combo-deroulant,a.mpo-deroulant-elem{background:#1d1d1d!important;color:#fff!important;border-color:#5c5c5c!important}a.mpo-combo-deroulant:active,a.mpo-combo-deroulant:focus,a.mpo-combo-deroulant:hover,a.mpo-deroulant-elem:active,a.mpo-deroulant-elem:focus,a.mpo-deroulant-elem:hover{background:#393939!important}.AvecCadre,.mpo-cadre,.mpo-page-gabarit-2,body{background:#121212!important}html body{color:#fff!important;background:#121212!important}#lienListeCoursId .af_link_text,#lienListeCoursId:hover .af_link_text,#lienListeCoursId:hover:before,#lienListeCoursId:visited,#lienListeCoursId:visited .af_link_text,.Arborescence_Regroupement .ul_toolMenu:hover:before,.ContenuRiche_InfoSecondaire.CouleurStandard,.MaReussite_Module_MesResultats__NoteEtCote .ena_noteCumulee_libelle a:visited,.MaReussite_OngletEnEntete .af_commandLink,.MaReussite_OngletEnEntete .af_commandLink:visited,.MatDid_Disponibilites .af_panelWindow_close-icon-style:before,.Message_Autre .af_dialog_close-icon-style:before,.Message_Autre .af_panelWindow_close-icon-style:before,.Message_Erreur .af_dialog_close-icon-style:before,.Message_Erreur .af_panelWindow_close-icon-style:before,.Module_TableDesMatiere_ListItem.selected a,.Module_TableDesMatiere_ListItem.selected a:visited,.QuestionnaireExecution_HeaderNiv2_Aide .CompteurQuestion .ProgessBar .ProgessBar_Content:hover,.RechercheQuestionnaireExistant_Type select,.RechercheQuestionnaireExistant_Type_Disabled option,.Resultats_Televerser .CelluleEdition,.Table_Resultats_FicheEval .NoteEnseignant_Autre .af_column_sort-ascending-icon-style:before,.Table_Resultats_FicheEval .NoteEnseignant_Autre .af_column_sort-descending-icon-style:before,.Table_Resultats_FicheEval .NoteEnseignant_Criteres .af_column_sort-ascending-icon-style:before,.Table_Resultats_FicheEval .NoteEnseignant_Criteres .af_column_sort-descending-icon-style:before,.Table_Resultats_FicheEval .NoteEnseignant_Total .af_column_sort-ascending-icon-style:before,.Table_Resultats_FicheEval .NoteEnseignant_Total .af_column_sort-descending-icon-style:before,.Tableau_Entete_Cellule_Alt.Tableau_Entete_Cellule_Alt .af_column_sort-ascending-icon-style:before,.Tableau_Entete_Cellule_Alt.Tableau_Entete_Cellule_Alt .af_column_sort-descending-icon-style:before,.af_calendar_month-grid-cell.p_AFActiveDay .af_calendar_month-grid-cell-header-day-link,.af_calendar_month-grid-cell.p_AFToday .af_calendar_month-grid-cell-header-day-link,.af_calendar_month-grid-cell.p_AFToday.p_AFActiveDay .af_calendar_month-grid-cell-header-day-link.p_AFToday,.af_calendar_week-header-cell .af_calendar_week-header-day-link,.af_calendar_week-header-cell.p_AFActiveDay .af_calendar_week-header-day-link,.af_calendar_week-header-cell.p_AFToday .af_calendar_week-header-day-link,.af_train_stop-link.p_AFSelected:hover,.ena_editablepanelTabbed_show-content-link:hover:before,.ul_customizablePanelTabbed_tab-menu:active:before,.ul_customizablePanelTabbed_tab-menu:focus:before,.ul_customizablePanelTabbed_tab-menu:hover:before,.ul_panelTabbed_show-content-link:hover:before,.ul_toolMenu:hover:before,a.HyperlienCouleurTexte,a.HyperlienCouleurTexte:visited{color:#fff!important}.mpo-titre-grand,.mpo-titre-moyen,.mpo-titre-normal,.mpo-titre-petit,.mpo-titre-tres-grand,.mpo-titre-tres-petit,h1,h2,h3,h4,h5,h6{color:#fff!important}.AvecCadre,.mpo-cadre,.mpo-page-gabarit-2{color:#fff!important}.Message_Autre .af_dialog_header,.Message_Autre .af_panelWindow_header,.Message_Erreur .af_dialog_header,.Message_Erreur .af_panelWindow_header,.TableauMPO_Leger .ul_column_header-cell,.TableauMPO_SansTitre .ul_column_header-cell{background:#1d1d1d!important;color:#fff!important}.AF_TableauSimple .af_column_banded-data-cell,.AF_TableauSimple .af_column_data-cell,.Grille .af_table_data-row[_afrrk$=\"1\"]+.af_table_data-row .DetailDesIndicateurs_Tableau,.Grille .af_table_data-row[_afrrk$=\"3\"]+.af_table_data-row .DetailDesIndicateurs_Tableau,.Grille .af_table_data-row[_afrrk$=\"5\"]+.af_table_data-row .DetailDesIndicateurs_Tableau,.Grille .af_table_data-row[_afrrk$=\"7\"]+.af_table_data-row .DetailDesIndicateurs_Tableau,.Grille .af_table_data-row[_afrrk$=\"9\"]+.af_table_data-row .DetailDesIndicateurs_Tableau,.JournalDeSuivi .JournalDeSuivi__Pied,.LigneEntete.LigneEntete,.ListeChoixMultiple_RetroAction.Incorrect td,.Pair,.Site_Fenetre_RechercheDocumentsElectroniques .TableauDeBord_DetailEval .ul_table_body-row.impair,.TableauAvecRegroupements .regroupement,.TableauAvecRegroupements .ul_column_header-cell,.TableauAvecRegroupements.SansRegroupement .ul_table_body-row.ul_table_body-row,.Tableau_AvecDetails .ul_column_header-cell,.Tableau_questionnaires .ul_table_body-detail-glyph,.Tableau_questionnaires.TableauAvecRegroupements .ul_table_body-row,.Tableau_questionnaires.TableauAvecRegroupements.Grille .regroupe.regroupe,.Tableau_questionnaires.TableauAvecRegroupements.Grille .regroupe~.ul_table_body-cell,.ZoneBtnImprimer .BtnSecondaire,.ZoneRetroAction.Incorrect td,.af_selectManyChoice_item.p_AFSelected,.ena_mooc_document,.mooc-accueil-inscription .mooc-accoueil-site_mooc,.mooc-boite-secondaire.mooc-boite-secondaire,.mooc-carte__corps,.ul_table_body-row.p_AFEven{background:0 0!important}.InfoGen_SoutientTechnique td:first-child,.tele-dialog-erreur-entete,.ul_table_body-cell:first-child{color:#fff!important}.SousTitre_Niv1{color:#fff!important}.Arbre_TravauxCorriges .af_table_data-row:not([_afrap]),.Forums_Complementaires .ListeReactive_Item.p_AFToolMenuOpened,.Forums_Complementaires .ListeReactive_Item:hover,.Grille .af_table_data-row[_afrrk$=\"1\"] .af_column_detail-cell,.Grille .af_table_data-row[_afrrk$=\"1\"]+.af_table_data-row .af_table_detail-area-cell,.Grille .af_table_data-row[_afrrk$=\"3\"] .af_column_detail-cell,.Grille .af_table_data-row[_afrrk$=\"3\"]+.af_table_data-row .af_table_detail-area-cell,.Grille .af_table_data-row[_afrrk$=\"5\"] .af_column_detail-cell,.Grille .af_table_data-row[_afrrk$=\"5\"]+.af_table_data-row .af_table_detail-area-cell,.Grille .af_table_data-row[_afrrk$=\"7\"] .af_column_detail-cell,.Grille .af_table_data-row[_afrrk$=\"7\"]+.af_table_data-row .af_table_detail-area-cell,.Grille .af_table_data-row[_afrrk$=\"9\"] .af_column_detail-cell,.Grille .af_table_data-row[_afrrk$=\"9\"]+.af_table_data-row .af_table_detail-area-cell,.Grille .ul_table_body-row .ul_table_body-cell.pair,.Grille.Alterne .ul_table_body-row.p_AFEven .ul_table_body-cell,.Impair,.InfoGen_CoordonneesDispos .ListeReactive_Item.p_AFToolMenuOpened,.InfoGen_CoordonneesDispos .ListeReactive_Item:hover,.ItemsQuestionnaire_Desciption_ConteneurGroupe .af_showDetail_table>tbody>tr:first-child,.JournalDeSuivi .JournalDeSuivi__Entete,.SousTitreLeger,.StatistiqueDuSite_TableauSemaine .af_table_data-row .af_column_banded-data-cell,.TableauAvecRegroupements .regroupement-first.regroupement-first,.TableauDesAccesDetaillesParEtudiant .af_table_data-row .af_column_banded-data-cell,.Tableau_ListeDesModules .ul_table_body-row.regroupement.regroupement-first,.Tableau_questionnaires.TableauAvecRegroupements.Grille .ul_table_body-cell,.ZoneAvecFond.gris,.af_calendar_header-all-day-container.af_calendar_header-all-day-container,.ul_table .regroupement-first.regroupement-first{background:0 0!important}.Tableau_Evaluations .regroupement-first .ul_table_body-cell.p_AFFirstElement:before,.Tableau_ListeDesModules .TableauAvecRegroupements .regroupement-first .ul_table_body-cell:first-child:before,.ul_table .regroupement-first .ul_table_body-cell:first-child:before{background:0 0!important}.mpo-titre-tres-grand,h1{border-bottom-color:#343434!important}input[type=email],input[type=number],input[type=text],select,textarea{color:#fff!important;background:0 0!important}.mpo-liste-checkbox li input~label .input,.mpo-liste-checkbox-survol li input~label .input,.mpo-liste-checkbox-survol-pale li input~label .input,.mpo-liste-radio li input~label .input,.mpo-liste-radio-detaille li input~label .input,.mpo-liste-radio-survol li input~label .input,.mpo-liste-radio-survol-pale li input~label .input{border-color:#fff!important;color:#fff!important}.af_train_stop-link.p_AFSelected,.ena_editablepanelTabbed_tab.p_AFSelected .ena_editablepanelTabbed_tab-link,.ena_editablepanelTabbed_tab.p_AFSelected .ena_editablepanelTabbed_tab-text,.ul_customizablePanelTabbed_tab.p_AFSelected .ul_customizablePanelTabbed_tab-link,.ul_customizablePanelTabbed_tab.p_AFSelected .ul_customizablePanelTabbed_tab-text,.ul_panelTabbed_tab.p_AFSelected .af_commandNavigationItem,.ul_panelTabbed_tab.p_AFSelected .ul_panelTabbed_tab-link,.ul_panelTabbed_tab.p_AFSelected .ul_panelTabbed_tab-text{color:#fff!important}label{color:#fff!important}.mpo-attest-quest-ce-que-cest,.mpo-quest-ce-que-cest-impression,.mpo-quest-ce-que-cest-lpu,.mpo-quest-ce-que-cest_{border-color:#343434!important}.mpo-lpu__information{border-color:#1d1d1d!important;background:#1d1d1d!important}.AR_FicheEtudiant_ListeCours_Detail,.AideReussite_FicheEtudiant_ListeDeCours .AR_FicheEtudiant_ListeCours_Detail .MiseEnPageTableau.Stretch,.BaremeTableWrap tr:nth-child(n+2) td,.MenuEnvoiCourriel_Lien+.MenuEnvoiCourriel_Lien,.RechercheAvancee_Pied,.Tableau_AvecDetails .ul_table_body-row.p_AFFirstElement .ul_table_body-cell,.Tableau_AvecDetails .ul_table_body-row.p_AFFirstElement .ul_table_body-detail-glyph,.af_commandMenuItem:nth-child(n+2)>td,.af_menu_separator-row>td,.af_menu_submenu:nth-child(n+2)>td,.ul_richTextEditor_content tr:nth-child(n+2) td,.ul_table_body-row:nth-child(n+2) .ul_table_body-cell{border-color:#343434!important}.TableauMPO .af_column_column-footer-cell,.TableauMPO .ul_column_footer-cell,.TableauMPO_Fonce .af_column_column-footer-cell,.TableauMPO_Fonce .ul_column_footer-cell,.TableauMPO_Leger .af_column_column-footer-cell,.TableauMPO_Leger .ul_column_footer-cell,.TableauMPO_SansTitre .af_column_column-footer-cell,.TableauMPO_SansTitre .ul_column_footer-cell{background:0 0!important;border-color:#343434!important}@media (min-width:768px){.mpo-formulaire-checkbox-survol-pale input~label:hover,.mpo-formulaire-radio-survol-pale input~label:hover,.mpo-liste-checkbox-survol-pale li input~label:hover,.mpo-liste-radio-survol-pale li input~label:hover{background:#393939!important}}input[type=file]{background:#1d1d1d!important}.buttons-table,.framing-div,.framing-table{background:#1d1d1d!important;border-color:#5c5c5c!important}.Site_Fenetre_EnvoiCourriel_ModifierDestinataire .af_table .af_column_banded-data-cell,.Site_Fenetre_EnvoiCourriel_ModifierDestinataire .af_table .af_column_data-cell,.Site_Fenetre_EnvoiCourriel_ModifierDestinataire .af_table .af_table_data-row:hover .af_column_banded-data-cell,.Site_Fenetre_EnvoiCourriel_ModifierDestinataire .af_table .af_table_data-row:hover .af_column_data-cell{background:#1d1d1d!important}.BlocAudioVideo .ItemEnCours,.Calendrier .af_calendar_month-header-cell.p_AFToday{background:#393939!important}.m-panel{background:#1d1d1d!important;color:#fff!important}.m-panel.m--has-border{border-color:#5c5c5c!important}.mpo-liste-entete{background:#1d1d1d!important}.mpo-liste{background:#1d1d1d!important}.det-liste-entete{background:#1d1d1d!important}.mpo-liste-base-elem{border-color:#5c5c5c!important}.mpo-liste-base-elem-entete{color:#fff!important}.mpo-page-colonne{background:#121212!important}.mpo-accordeon-entete{background:#1d1d1d!important}v-pane-content,v-pane-header{background:0 0!important}.mpo-champ-champ{border-color:#5c5c5c!important;background:#1d1d1d!important}input[type=email],input[type=number],input[type=text]{border-color:#5c5c5c!important}.mpo-legende{background:#1d1d1d!important;border-color:#5c5c5c!important}.mpo-legende-titre{color:#fff!important}legend{color:#fff!important}.nav-tabs{background:0 0!important;border-color:#343434!important}.nav-tabs .nav-item a{border:none!important;color:#fff!important}.nav-tabs .nav-item:not(active) a{background:#1d1d1d!important}.nav-tabs .nav-item.active a{background:#393939!important}.ena_editablepanelTabbed_no-overflow .ena_editablepanelTabbed_tab.p_AFSelected:first-child,.ul_customizablePanelTabbed_header-level1 .ul_customizablePanelTabbed_no-overflow .ul_customizablePanelTabbed_tab.p_AFSelected:first-child,.ul_customizablePanelTabbed_header-level1 .ul_customizablePanelTabbed_tab.p_AFSelected+.ul_customizablePanelTabbed_add-tab,.ul_panelTabbed_no-overflow .ul_panelTabbed_tab.p_AFSelected:first-child{border-left:none!important}.ena_editablepanelTabbed_tab,.ul_panelTabbed_tab{background:#1d1d1d!important}.ena_editablepanelTabbed_tab.p_AFSelected,.ul_customizablePanelTabbed_header-level1 .ul_customizablePanelTabbed_tab.p_AFSelected,.ul_panelTabbed_tab.p_AFSelected{background:#393939!important}.ena_editablepanelTabbed_tab-link,.ena_editablepanelTabbed_tab-link:active,.ena_editablepanelTabbed_tab-link:focus,.ena_editablepanelTabbed_tab-link:hover,.ena_editablepanelTabbed_tab-link:visited,.ena_editablepanelTabbed_tab-text,.ul_customizablePanelTabbed_tab-link:active,.ul_customizablePanelTabbed_tab-link:focus,.ul_customizablePanelTabbed_tab-link:hover,.ul_customizablePanelTabbed_tab-link:link,.ul_customizablePanelTabbed_tab-link:visited,.ul_panelTabbed_tab-content .af_commandNavigationItem,.ul_panelTabbed_tab-content .af_commandNavigationItem:active,.ul_panelTabbed_tab-content .af_commandNavigationItem:focus,.ul_panelTabbed_tab-content .af_commandNavigationItem:hover,.ul_panelTabbed_tab-content .af_commandNavigationItem:visited,.ul_panelTabbed_tab-link,.ul_panelTabbed_tab-link:active,.ul_panelTabbed_tab-link:focus,.ul_panelTabbed_tab-link:hover,.ul_panelTabbed_tab-link:visited,.ul_panelTabbed_tab-text{color:#fff!important}.mpo-panier{background:#1d1d1d!important}.mpo-panier-entete{border-color:#5c5c5c!important}.mpo-panier-pied:before{background:0 0!important}.m-button:not(.m--is-waiting){background:#1d1d1d!important}.mpo-bouton:disabled,.mpo-bouton:disabled:active,.mpo-bouton:disabled:focus,.mpo-bouton:disabled:hover,a.mpo-bouton:disabled,a.mpo-bouton:disabled:active,a.mpo-bouton:disabled:focus,a.mpo-bouton:disabled:hover{background:#1d1d1d!important}.af_commandImageLink.BtnSecondaire.p_AFDisabled,.af_commandImageLink.BtnSecondaire.p_AFDisabled .af_commandImageLink_text,.af_commandImageLink.BtnSecondaire.p_AFDisabled .af_commandImageLink_text:hover,.af_commandImageLink.BtnSecondaire.p_AFDisabled:hover{background:#1d1d1d!important}.af_commandButton.p_AFDisabled,.af_commandButton.p_AFDisabled:active,.af_commandButton.p_AFDisabled:focus,.af_commandButton.p_AFDisabled:hover{background:#1d1d1d!important}.mpo-fenetre-apercu{background:#1d1d1d!important}.mpo-fenetre-apercu-pied{background:#1d1d1d!important;border-color:#5c5c5c!important}.mpo-fenetre-apercu-pied:before{background:0 0!important}.mpo-fenetre-profil-elem{color:#fff!important;border-color:#5c5c5c!important}.mpo-fenetre-profil-elem:focus,.mpo-fenetre-profil-elem:hover{background:#393939!important}.mpo-fenetre-apercu-contenu{border-color:#5c5c5c!important}.FenetreAide.af_panelWindow{background-color:#001426!important}.FenetreAide .af_panelWindow_header,.FenetreAide.NoteWindow .ul_noteWindow_header,.FondInformation,.LigneEnonce.LigneEnonce.Focus,.LigneEntete.LigneEntete.Focus,.MaReussite_Module_MesResultats_Tableau_Moyenne .ul_table_body-cell,.MaReussite_Module_MesResultats_Tableau_Moyenne .ul_table_body-cell:hover,.tele-explorateur-fichiers .tele-element-fichier:hover,.ul_table.p_AFSelectionEnabled .ul_table_body-row.p_AFSelected .ul_table_body-cell.ul_table_body-cell,.ul_table.p_AFSelectionEnabled .ul_table_body-row:hover .ul_table_body-cell.ul_table_body-cell{background:0 0!important}.FenetreAide .af_panelWindow_title{color:#fff!important}.ul_column_header-cell{color:#fff!important;background:#1d1d1d!important;border-color:#343434!important}.ul_richTextEditor_content table{border-color:#5c5c5c!important}.ul_richTextEditor_content th{background:#1d1d1d!important}.ul_richTextEditor_content td,.ul_table_body-cell{border-color:#343434!important;background:0 0!important}.ul_richTextEditor_content table[border] td,.ul_richTextEditor_content table[border] th{border-color:#343434!important}.ul_table{border-color:#343434!important}.TableauMPO,.TableauMPO_Leger{border-color:#343434!important}.CommentaireEnseignant,.CommentaireEnseignant_Contenu{background:0 0!important}.EmptyText,.ul_table_body-empty-text{background:#121212!important}.af_table{border-color:#343434!important}.CopieCorrigee_ZoneTentative_Item:hover,.af_column_column-header-cell{background:#1d1d1d!important}.af_column_column-header-cell{color:#fff!important}.af_table_data-table-VH-lines .af_column_banded-data-cell,.af_table_data-table-VH-lines .af_column_data-cell{border-color:#5c5c5c!important}.ProgessBar{background:#1d1d1d!important;border-color:#5c5c5c!important}.ProgessBar_Content{color:#fff!important}.ProgessBar_Color{background:#f39418!important}.cke_reset{border-color:#5c5c5c!important}.cke_editable{color:#fff!important}.AFPopupSelector.AFPopupSelector,.af_dialog.af_dialog,.af_panelWindow.af_panelWindow{background:#1d1d1d!important}.modal-content{background:#1d1d1d!important}.AFPopupSelectorContent{background:#1d1d1d!important;border-color:#5c5c5c!important}.mpo-infobulle-bouton-fermer,.mpo-infobulle-bouton-fermer:visited{color:#fff!important}.mpo-icone-cliquable.mpo-effet-touch,.mpo-icone-cliquable:active{background:#393939!important}.mpo-pastille-entete>.mpo-icone-cliquable.mpo-selecteur-infobulle-ouvert .remplissage-icone,.mpo-pastille-entete>.mpo-icone-cliquable:hover .remplissage-icone{fill:#fff!important}.popover{color:#fff!important;background:#1d1d1d!important;border-color:#5c5c5c!important}';
const DARK_THEME_STYLESHEET_ID = "ulav-fresh-dark-theme";

/**
 * Disables the style element containing the dark theme.
 * Does nothing if the element already exists.
 */
const disableDarkTheme = () => {
    let styleElement = document.getElementById(DARK_THEME_STYLESHEET_ID);
    if (styleElement) {
        styleElement.parentNode.removeChild(styleElement);
    }
};

/**
 * Adds a style element do the <html> element. The style element contains the dark theme CSS rules.
 * Does nothing if the element already exists.
 */
const enableDarkTheme = () => {
    if (!document.getElementById(DARK_THEME_STYLESHEET_ID)) {
        const styleElement = document.createElement("style");
        styleElement.id = "ulav-fresh-dark-theme";
        styleElement.innerHTML = darkThemeStyle;
        document.documentElement.appendChild(styleElement);
    }
};

const applyStyle = (darkThemeEnabled) => {
    if (darkThemeEnabled) {
        enableDarkTheme();
    } else {
        disableDarkTheme();
    }
};

chrome.runtime.sendMessage({method: 'getDarkThemeStyle'}, applyStyle);

chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
    if (request.method === "styleApply") {
        applyStyle(request.darkThemeEnabled);
    }
});
